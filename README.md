# Gemini 3 Pro Client (Frontend Only)

è¿™æ˜¯ä¸€ä¸ªåŸºäº React çš„ç°ä»£åŒ–çº¯å‰ç«¯åº”ç”¨ï¼Œä¸“ä¸ºä¸ Google çš„ **Gemini 3 Pro** æ¨¡å‹äº¤äº’è€Œè®¾è®¡ã€‚å®ƒæä¾›äº†ä¸€ä¸ªæµç•…çš„èŠå¤©ç•Œé¢ï¼Œæ”¯æŒå¤šæ¨¡æ€è¾“å…¥ï¼Œå¹¶åœ¨ç­‰å¾… AI æ€è€ƒæ—¶æä¾›è¶£å‘³æ€§çš„äº’åŠ¨ä½“éªŒã€‚

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/deijing/UndyDraw)

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ¨ æ ¸å¿ƒåŠŸèƒ½

- **çº¯å‰ç«¯æ¶æ„**ï¼šåŸºäº React 19 + Vite 6 æ„å»ºï¼Œæ— éœ€åç«¯æœåŠ¡å™¨ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ
- **Gemini 3 Pro æ”¯æŒ**ï¼šé»˜è®¤é…ç½®ä¸º `gemini-3-pro-image-preview` æ¨¡å‹ï¼Œæ”¯æŒæœ€æ–°çš„ AI èƒ½åŠ›
- **å¤šæ¨¡æ€äº¤äº’**ï¼š
  - æ”¯æŒæ–‡æœ¬å¯¹è¯
  - æ”¯æŒå›¾ç‰‡ä¸Šä¼ ä¸åˆ†æï¼ˆæœ€å¤šæ”¯æŒ 14 å¼ å‚è€ƒå›¾ç‰‡ï¼‰
  - æ”¯æŒåœ¨é¡µé¢ä»»æ„ä½ç½®ç²˜è´´å‰ªè´´æ¿å›¾ç‰‡ï¼Œè‡ªåŠ¨åŠ å…¥å‚è€ƒå›¾åˆ—è¡¨
  - **âœ¨ æ‹–æ‹½ä¸Šä¼ **ï¼šæ”¯æŒå°†å›¾ç‰‡ç›´æ¥æ‹–æ‹½åˆ°è¾“å…¥æ¡†ä¸Šä¼ ï¼Œæ— éœ€ç‚¹å‡»æŒ‰é’®

### ğŸ–¼ï¸ å›¾ç‰‡åŠŸèƒ½ (æ–°å¢)

- **ğŸ“¥ æ‹–æ‹½ä¸Šä¼ **ï¼š
  - å°†å›¾ç‰‡æ‹–æ‹½åˆ°è¾“å…¥æ¡†åŒºåŸŸå³å¯ä¸Šä¼ 
  - æ‹–æ‹½æ—¶æ˜¾ç¤ºè“è‰²é«˜äº®è¾¹æ¡†æç¤º
  - æ”¯æŒåŒæ—¶æ‹–æ‹½å¤šå¼ å›¾ç‰‡

- **ğŸ’¾ ä¸€é”®ä¸‹è½½**ï¼š
  - ç”Ÿæˆçš„å›¾ç‰‡æ‚¬åœæ˜¾ç¤ºä¸‹è½½æŒ‰é’®
  - æ”¯æŒæ€ç»´é“¾ä¸­çš„å›¾ç‰‡ä¸‹è½½
  - è‡ªåŠ¨å‘½åï¼š`gemini-image-{æ—¶é—´æˆ³}.{æ‰©å±•å}`

- **ğŸ“š å›¾ç‰‡å†å²è®°å½•**ï¼š
  - è‡ªåŠ¨æ”¶é›†æ‰€æœ‰ç”Ÿæˆçš„å›¾ç‰‡ï¼ˆæœ€å¤šä¿ç•™ 100 å¼ ï¼‰
  - 2x2 ç½‘æ ¼é¢„è§ˆå¸ƒå±€
  - ç‚¹å‡»å›¾ç‰‡å…¨å±æŸ¥çœ‹ + æç¤ºè¯è¯¦æƒ…
  - æ”¯æŒå•å¼ ä¸‹è½½æˆ–æ‰¹é‡ç®¡ç†
  - æ•°æ®æŒä¹…åŒ–ä¿å­˜åˆ°æµè§ˆå™¨æœ¬åœ°

### ğŸ’° ä½™é¢ç®¡ç† (æ–°å¢)

- **API ä½™é¢æŸ¥è¯¢**ï¼š
  - å®æ—¶æ˜¾ç¤º API Key ä½™é¢ä¿¡æ¯
  - ä¸‰æ æ˜¾ç¤ºï¼šæ€»é¢åº¦ / å·²ä½¿ç”¨ / å‰©ä½™
  - æ”¯æŒæ‰‹åŠ¨åˆ·æ–°ä½™é¢
  - è‡ªåŠ¨æŸ¥è¯¢ï¼ˆé¦–æ¬¡æ‰“å¼€è®¾ç½®é¢æ¿æ—¶ï¼‰
  - æ”¯æŒè‡ªå®šä¹‰ API Endpoint

### ğŸ® ç­‰å¾…è¡—æœºæ¨¡å¼

- **Waiting Arcade Mode**ï¼š
  - åœ¨æ¨¡å‹è¿›è¡Œé•¿æ€ç»´é“¾æ€è€ƒæ—¶ï¼Œè‡ªåŠ¨æ¿€æ´»"è¡—æœºæ¨¡å¼"
  - **å†…ç½®å°æ¸¸æˆ**ï¼šåŒ…å« **è´ªåƒè›‡ (Snake)**ã€**æé¾™è·‘é…· (Dino)**ã€**2048** å’Œ **ç”Ÿå‘½æ¸¸æˆ (Game of Life)**
  - **è‡ªé€‚åº”ä½“éªŒ**ï¼šæ¸¸æˆæ ¹æ®å½“å‰çš„**ä¸»é¢˜ï¼ˆæ˜/æš—ï¼‰**å’Œ**è®¾å¤‡ç±»å‹ï¼ˆæ¡Œé¢/ç§»åŠ¨ï¼‰**è‡ªåŠ¨åˆ‡æ¢ï¼Œæ‰“å‘ç­‰å¾…æ—¶é—´

### ğŸ§  æ€ç»´é“¾å¯è§†åŒ–

- é€šè¿‡å¯æŠ˜å çš„ UI å±•ç¤ºæ¨¡å‹çš„æ€ç»´è¿‡ç¨‹ï¼ˆThinking Processï¼‰
- æ”¯æŒæŸ¥çœ‹è¯¦ç»†æ­¥éª¤
- æ˜¾ç¤ºæ€è€ƒè€—æ—¶

### ğŸ¨ ç°ä»£åŒ– UI/UX

- **æµç•…äº¤äº’**ï¼šå®æ—¶æµå¼å“åº”ï¼Œé…åˆæ‰“å­—æœºæ•ˆæœ
- **äº¤äº’åé¦ˆ**ï¼šé›†æˆ Toast é€šçŸ¥ã€å…¨å±€å¯¹è¯æ¡†åŠæ“ä½œéŸ³æ•ˆ
- **ä¸»é¢˜åˆ‡æ¢**ï¼šæ”¯æŒæ˜äº®ï¼ˆLightï¼‰ã€æš—é»‘ï¼ˆDarkï¼‰åŠè·Ÿéšç³»ç»Ÿä¸»é¢˜
- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯

### ğŸ“ Markdown æ¸²æŸ“

- å®Œç¾æ”¯æŒä»£ç å—é«˜äº®
- æ”¯æŒè¡¨æ ¼ã€åˆ—è¡¨ã€å¼•ç”¨ç­‰å¯Œæ–‡æœ¬æ ¼å¼
- æ”¯æŒ GFM (GitHub Flavored Markdown)

### âš™ï¸ é«˜åº¦å¯é…ç½®

- **API è®¾ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰ API Endpoint å’Œæ¨¡å‹åç§°
- **å›¾åƒå‚æ•°**ï¼šå¯è°ƒæ•´ç”Ÿæˆå›¾åƒçš„åˆ†è¾¨ç‡ï¼ˆ1K/2K/4Kï¼‰å’Œé•¿å®½æ¯”
- **Grounding**ï¼šé›†æˆ Google Search Grounding å¼€å…³ï¼Œæ”¯æŒè”ç½‘æœç´¢
- **å®‰å…¨éšç§**ï¼šAPI Key å®‰å…¨å­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­ï¼ˆLocalStorageï¼‰ï¼Œåˆ·æ–°é¡µé¢ä¸ä¸¢å¤±ï¼Œæ–¹ä¾¿æŒç»­ä½¿ç”¨ã€‚éšæ—¶å¯åœ¨è®¾ç½®ä¸­æ¸…é™¤

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ ¸å¿ƒæ¡†æ¶**: [React 19](https://react.dev/)
- **æ„å»ºå·¥å…·**: [Vite 6](https://vitejs.dev/)
- **è¯­è¨€**: [TypeScript](https://www.typescriptlang.org/)
- **æ ·å¼æ–¹æ¡ˆ**: [Tailwind CSS 4](https://tailwindcss.com/)
- **çŠ¶æ€ç®¡ç†**: [Zustand](https://github.com/pmndrs/zustand)
- **AI SDK**: [Google GenAI SDK](https://www.npmjs.com/package/@google/genai)
- **å›¾æ ‡åº“**: [Lucide React](https://lucide.dev/)
- **Markdown**: React Markdown + Remark GFM

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18
- **Bun** (>= 1.2.1) æˆ– **pnpm** (>= 8)
- Google Gemini API Key ([åœ¨æ­¤è·å–](https://aistudio.google.com/app/apikey))

### å®‰è£…ä¸è¿è¡Œ

1. **å…‹éš†ä»“åº“**

   ```bash
   git clone https://github.com/deijing/UndyDraw.git
   cd UndyDraw
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   # ä½¿ç”¨ Bun
   bun install

   # æˆ–ä½¿ç”¨ pnpm
   pnpm install
   ```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

   ```bash
   # ä½¿ç”¨ Bun
   bun dev

   # æˆ–ä½¿ç”¨ pnpm
   pnpm dev
   ```

   å¯åŠ¨åï¼Œåœ¨æµè§ˆå™¨è®¿é—®æ§åˆ¶å°è¾“å‡ºçš„åœ°å€ï¼ˆé€šå¸¸æ˜¯ `http://localhost:3000`ï¼‰ã€‚

4. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**

   ```bash
   # ä½¿ç”¨ Bun
   bun build

   # æˆ–ä½¿ç”¨ pnpm
   pnpm build
   ```

## âš™ï¸ ä½¿ç”¨è¯´æ˜

### 1. é…ç½® API Key

é¦–æ¬¡è¿›å…¥åº”ç”¨æ—¶ï¼Œä¼šå¼¹çª—æç¤ºè¾“å…¥ **Gemini API Key**ã€‚

> æ³¨æ„ï¼šAPI Key å°†å®‰å…¨å­˜å‚¨åœ¨æ‚¨çš„æµè§ˆå™¨æœ¬åœ°ï¼ˆLocalStorageï¼‰ï¼Œä»¥ä¾¿ä¸‹æ¬¡è®¿é—®æ—¶è‡ªåŠ¨åŠ è½½ã€‚æ‚¨å¯ä»¥åœ¨è®¾ç½®é¢æ¿ä¸­éšæ—¶å°†å…¶æ¸…é™¤ã€‚

### 2. URL å‚æ•°é…ç½®

æ”¯æŒé€šè¿‡ URL å‚æ•°å¿«é€Ÿé¢„è®¾é…ç½®ï¼Œæ–¹ä¾¿åˆ†äº«æˆ–ç‰¹å®šåœºæ™¯ä½¿ç”¨ï¼š

- `apikey`: é¢„å¡« API Key
- `endpoint`: è‡ªå®šä¹‰ API ç«¯ç‚¹ (Base URL)
- `model`: è‡ªå®šä¹‰æ¨¡å‹åç§°

**ç¤ºä¾‹ï¼š**
```
http://localhost:3000/?endpoint=https://my-proxy.com&model=gemini-2.0-flash
```

### 3. å›¾ç‰‡ä¸Šä¼ æ–¹å¼

æ”¯æŒä¸¤ç§å›¾ç‰‡ä¸Šä¼ æ–¹å¼ï¼š

#### æ–¹å¼ä¸€ï¼šç‚¹å‡»ä¸Šä¼ 
- ç‚¹å‡»è¾“å…¥æ¡†å·¦ä¾§çš„ ğŸ“· å›¾æ ‡
- é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼ˆæœ€å¤š 14 å¼ ï¼‰

#### æ–¹å¼äºŒï¼šæ‹–æ‹½ä¸Šä¼  âœ¨ (æ–°å¢)
- ç›´æ¥å°†å›¾ç‰‡æ‹–æ‹½åˆ°è¾“å…¥æ¡†åŒºåŸŸ
- çœ‹åˆ°è“è‰²é«˜äº®è¾¹æ¡†åæ¾å¼€é¼ æ ‡
- å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ å¹¶æ˜¾ç¤ºé¢„è§ˆ

### 4. å›¾ç‰‡å†å²è®°å½• âœ¨ (æ–°å¢)

ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ çš„ **ğŸ–¼ï¸ å›¾ç‰‡å›¾æ ‡**ï¼ˆå¸¦è“è‰²è„‰å†²å¾½ç« ï¼‰æ‰“å¼€å†å²è®°å½•é¢æ¿ï¼š

- **æŸ¥çœ‹å†å²**ï¼š2x2 ç½‘æ ¼æ˜¾ç¤ºæ‰€æœ‰ç”Ÿæˆçš„å›¾ç‰‡
- **é¢„è§ˆå¤§å›¾**ï¼šç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹å…¨å±é¢„è§ˆ + æç¤ºè¯è¯¦æƒ…
- **ä¸‹è½½å›¾ç‰‡**ï¼šæ‚¬åœæ˜¾ç¤ºä¸‹è½½æŒ‰é’®ï¼Œæˆ–åœ¨é¢„è§ˆæ¨¡å¼ä¸‹ä¸€é”®ä¸‹è½½
- **æ¸…ç©ºå†å²**ï¼šç‚¹å‡»é¡¶éƒ¨åƒåœ¾æ¡¶å›¾æ ‡æ¸…ç©ºæ‰€æœ‰è®°å½•

### 5. æŸ¥çœ‹ API ä½™é¢ âœ¨ (æ–°å¢)

æ‰“å¼€è®¾ç½®é¢æ¿ï¼ˆå³ä¸Šè§’ âš™ï¸ å›¾æ ‡ï¼‰ï¼Œé¡¶éƒ¨æ˜¾ç¤ºä½™é¢å¡ç‰‡ï¼š

- **æ€»é¢åº¦**ï¼šä½ çš„ API Key æ€»é¢åº¦
- **å·²ä½¿ç”¨**ï¼šè¿‘ 100 å¤©çš„æ¶ˆè´¹é‡‘é¢
- **å‰©ä½™**ï¼šå‰©ä½™å¯ç”¨é¢åº¦
- **åˆ·æ–°**ï¼šç‚¹å‡»å³ä¸Šè§’åˆ·æ–°æŒ‰é’®æ›´æ–°æ•°æ®

> æ³¨æ„ï¼šä½™é¢æŸ¥è¯¢åŠŸèƒ½ä»…æ”¯æŒ OpenAI å…¼å®¹çš„ API Endpointï¼ˆå¦‚ `undyapi.com`ï¼‰

### 6. é«˜çº§è®¾ç½®

ç‚¹å‡»å³ä¸Šè§’çš„è®¾ç½®å›¾æ ‡ï¼ˆâš™ï¸ï¼‰æ‰“å¼€è®¾ç½®é¢æ¿ï¼Œå¯ä»¥è°ƒæ•´ï¼š

- **ä¸»é¢˜å¤–è§‚**ï¼šåˆ‡æ¢æ·±è‰²/æµ…è‰²æ¨¡å¼
- **å›¾åƒç”Ÿæˆè®¾ç½®**ï¼šè°ƒæ•´åˆ†è¾¨ç‡å’Œæ¯”ä¾‹
- **Google Search Grounding**ï¼šå¼€å¯åå…è®¸æ¨¡å‹é€šè¿‡ Google æœç´¢è·å–å®æ—¶ä¿¡æ¯
- **æ€ç»´é“¾å¼€å…³**ï¼šæ˜¾ç¤º/éšè—æ¨¡å‹çš„æ€è€ƒè¿‡ç¨‹
- **æµå¼å“åº”**ï¼šé€ token æµå¼ä¼ è¾“æˆ–ä¸€æ¬¡æ€§å“åº”
- **æ•°æ®ç®¡ç†**ï¼šæ¸…é™¤å¯¹è¯å†å²æˆ–é‡ç½® API Key

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ components/               # UI ç»„ä»¶
â”‚   â”œâ”€â”€ games/                   # è¡—æœºæ¨¡å¼å°æ¸¸æˆ (Snake, Dino, 2048, Life)
â”‚   â”œâ”€â”€ ui/                      # é€šç”¨ UI ç»„ä»¶ (Toast, Dialog)
â”‚   â”œâ”€â”€ ApiKeyModal.tsx          # API Key è¾“å…¥å¼¹çª—
â”‚   â”œâ”€â”€ ChatInterface.tsx        # ä¸»èŠå¤©åŒºåŸŸ
â”‚   â”œâ”€â”€ InputArea.tsx            # è¾“å…¥æ¡†ä¸æ–‡ä»¶ä¸Šä¼  (æ”¯æŒæ‹–æ‹½)
â”‚   â”œâ”€â”€ MessageBubble.tsx        # æ¶ˆæ¯æ°”æ³¡ä¸ Markdown æ¸²æŸ“ (æ”¯æŒä¸‹è½½)
â”‚   â”œâ”€â”€ SettingsPanel.tsx        # è®¾ç½®é¢æ¿ (å«ä½™é¢æ˜¾ç¤º)
â”‚   â”œâ”€â”€ ImageHistoryPanel.tsx    # å›¾ç‰‡å†å²è®°å½•é¢æ¿ âœ¨
â”‚   â””â”€â”€ ThinkingIndicator.tsx    # æ€ç»´é“¾æŒ‡ç¤ºå™¨ä¸æ¸¸æˆå…¥å£
â”œâ”€â”€ services/                 # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ geminiService.ts         # Google GenAI SDK é›†æˆ
â”‚   â””â”€â”€ balanceService.ts        # API ä½™é¢æŸ¥è¯¢æœåŠ¡ âœ¨
â”œâ”€â”€ store/                    # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ useAppStore.ts           # åº”ç”¨æ ¸å¿ƒçŠ¶æ€ (å«å›¾ç‰‡å†å²)
â”‚   â””â”€â”€ useUiStore.ts            # UI äº¤äº’çŠ¶æ€
â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ messageUtils.ts          # æ¶ˆæ¯å¤„ç†å·¥å…·
â”‚   â””â”€â”€ soundUtils.ts            # éŸ³æ•ˆå¤„ç†å·¥å…·
â”œâ”€â”€ types.ts                  # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ App.tsx                   # æ ¹ç»„ä»¶
â”œâ”€â”€ index.tsx                 # å…¥å£æ–‡ä»¶
â””â”€â”€ CLAUDE.md                 # é¡¹ç›®å¼€å‘æ–‡æ¡£ âœ¨
```

## ğŸ¯ åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | åŸç‰ˆ | å½“å‰ç‰ˆæœ¬ |
|------|------|----------|
| å›¾ç‰‡ä¸Šä¼  | âœ… ç‚¹å‡»ä¸Šä¼  | âœ… ç‚¹å‡» + æ‹–æ‹½ä¸Šä¼  |
| å›¾ç‰‡ä¸‹è½½ | âŒ éœ€å³é”®å¦å­˜ä¸º | âœ… æ‚¬åœä¸€é”®ä¸‹è½½ |
| å›¾ç‰‡å†å² | âŒ æ—  | âœ… è‡ªåŠ¨æ”¶é›† + é¢„è§ˆ |
| API ä½™é¢ | âŒ æ—  | âœ… å®æ—¶æŸ¥è¯¢æ˜¾ç¤º |
| é¡¹ç›®æ–‡æ¡£ | âš ï¸ åŸºç¡€ README | âœ… README + CLAUDE.md |

## ğŸ“ å¼€å‘æ–‡æ¡£

è¯¦ç»†çš„æŠ€æœ¯æ¶æ„å’Œå¼€å‘æŒ‡å—è¯·æŸ¥çœ‹ [CLAUDE.md](./CLAUDE.md)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ License

AGPL-3.0
> [!CAUTION]
> ### è¿åè®¸å¯åè®®çš„é¡¹ç›®
> - [é…·çˆ±API](https://cnb.kuai.host)ï¼š[äº’è”ç½‘æ¡£æ¡ˆé¦†äº20251203094750æŠ“å–çš„ç½‘é¡µå†…å®¹](https://web.archive.org/web/20251203094750/https://cnb.kuai.host/)